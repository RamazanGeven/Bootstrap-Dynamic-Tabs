(function($){$.fn.bootstrapDynamicTabs=function(){this.each(function(){var $container=$(this);var DynamicTabs=(function(){function DynamicTabs(){var TABS_OBJECT;TABS_OBJECT=this;TABS_OBJECT.activeTabId=1;TABS_OBJECT.tabsHorizontalContainer=$container;TABS_OBJECT.tabsHorizontalContainer.addClass("dynamic-tabs").wrap("<div class='dynamic-tabs-container clearfix'></div>");var update_tabs=function(){var i,horizontalTab,tabId,verticalTab,tabWidth,isVisible;var $tabs=TABS_OBJECT.tabsHorizontalContainer.children('li');var activeTab=TABS_OBJECT.tabsHorizontalContainer.find(".dynamic-tab[tab-id="+TABS_OBJECT.activeTabId+"]");var activeTabIndex=activeTab.index();var availableWidth=TABS_OBJECT.tabsHorizontalContainer.width();var numVisibleHorizontalTabs=1;horizontalTab=$tabs.eq(activeTabIndex);tabId=horizontalTab.attr("tab-id");verticalTab=TABS_OBJECT.tabsVerticalContainer.find(".dynamic-tab[tab-id="+tabId+"]");horizontalTab.toggleClass('hidden',false);verticalTab.toggleClass('hidden',true);availableWidth=availableWidth-horizontalTab.outerWidth(true);for(i=activeTabIndex-1;i>=0;i--){horizontalTab=$tabs.eq(i);tabId=horizontalTab.attr("tab-id");verticalTab=TABS_OBJECT.tabsVerticalContainer.find(".dynamic-tab[tab-id="+tabId+"]");if(availableWidth>0){horizontalTab.toggleClass('hidden',false);}
tabWidth=horizontalTab.outerWidth(true);isVisible=tabWidth<=availableWidth;if(isVisible){availableWidth=availableWidth-tabWidth;numVisibleHorizontalTabs++;}else{availableWidth=-1;}
horizontalTab.toggleClass('hidden',!isVisible);verticalTab.toggleClass('hidden',isVisible);}
for(i=activeTabIndex+1;i<$tabs.length;i++){horizontalTab=$tabs.eq(i);tabId=horizontalTab.attr("tab-id");verticalTab=TABS_OBJECT.tabsVerticalContainer.find(".dynamic-tab[tab-id="+tabId+"]");if(availableWidth>0){horizontalTab.toggleClass('hidden',false);}
tabWidth=horizontalTab.outerWidth(true);isVisible=tabWidth<=availableWidth;if(isVisible){availableWidth=availableWidth-tabWidth;numVisibleHorizontalTabs++;}else{availableWidth=-1;}
horizontalTab.toggleClass('hidden',!isVisible);verticalTab.toggleClass('hidden',isVisible);}
var numVisibleVerticalTabs=$tabs.length-numVisibleHorizontalTabs;var hasVerticalTabs=(numVisibleVerticalTabs>0);TABS_OBJECT.tabsHorizontalContainer.siblings(".tabs-dropdown").toggleClass("hidden",!hasVerticalTabs);TABS_OBJECT.tabsVerticalContainer.toggleClass("hidden",!hasVerticalTabs);TABS_OBJECT.tabsVerticalContainer.siblings(".dropdown-toggle").find(".count").text("Tabs "+"("+numVisibleVerticalTabs+")");};var setup=(function(){var totalWidth=0;var $tabs=TABS_OBJECT.tabsHorizontalContainer.children('li');if($tabs.length===0){return;}
$tabs.each(function(i){var tabIndex;tabIndex=$(this).index();$(this).addClass("dynamic-tab").attr("tab-id",i+1).attr("tab-index",tabIndex);});TABS_OBJECT.tabsHorizontalContainer.after("<div class='nav navbar-nav navbar-right dropdown tabs-dropdown js-tabs-dropdown'> \
       <a href='#' class='dropdown-toggle' data-toggle='dropdown'><span class='count'>Tabs </span><b class='caret'></b></a> \
       <ul class='dropdown-menu' role='menu'> \
        <div class='dropdown-header visible-xs'>\
         <p class='count'>Tabs</p> \
         <button type='button' class='close' data-dismiss='dropdown'><span aria-hidden='true'>&times;</span></button> \
         <div class='divider visible-xs'></div> \
        </div> \
       </ul> \
       </div>");TABS_OBJECT.tabsVerticalContainer=TABS_OBJECT.tabsHorizontalContainer.siblings(".tabs-dropdown").find(".dropdown-menu");$tabs.clone().appendTo(TABS_OBJECT.tabsVerticalContainer);update_tabs();}());var change_tab=(function(e){TABS_OBJECT.tabsHorizontalContainer.parents(".dynamic-tabs-container").on("click",".dynamic-tab",function(e){var target=$(e.target);TABS_OBJECT.activeTabId=$(this).attr("tab-id");var verticalTabSelected=target.parents(".dropdown-menu").length>0;if(verticalTabSelected){TABS_OBJECT.tabsHorizontalContainer.find(".dynamic-tab").removeClass("active");TABS_OBJECT.tabsHorizontalContainer.find(".dynamic-tab[tab-id="+TABS_OBJECT.activeTabId+"]").addClass("active");}
TABS_OBJECT.tabsVerticalContainer.find(".dynamic-tab").removeClass("active");update_tabs();});}());$(window).resize(function(){update_tabs();});}
return new DynamicTabs();}());});};}(jQuery));